{"version":3,"sources":["../../Part5FullStackOpen/bloglist-frontend/src/services/login.js","../../Part5FullStackOpen/bloglist-frontend/src/services/blogs.js","../../Part5FullStackOpen/bloglist-frontend/src/App.js","../../Part5FullStackOpen/bloglist-frontend/src/index.js"],"names":["services_login","login","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","credentials","response","wrap","_context","prev","next","axios","post","sent","abrupt","data","stop","_x","apply","this","arguments","blogs","newToken","concat","App","_useState","useState","_useState2","slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","setErrorMessage","_useState7","_useState8","setUser","useEffect","loggedUserJSON","window","localStorage","getItem","user","JSON","parse","blogsService","token","handleLogin","event","_user2","preventDefault","loginService","setItem","stringify","t0","setTimeout","react_default","createElement","onSubmit","type","value","name","onChange","_ref2","target","_ref3","ReactDOM","render","src_App","document","getElementById"],"mappings":"uNAQeA,EAAA,CAAEC,MALN,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACWC,IAAMC,KAHf,aAG6BP,GAD/B,cACNC,EADME,EAAAK,KAAAL,EAAAM,OAAA,SAELR,EAASS,MAFJ,wBAAAP,EAAAQ,SAAAZ,MAAH,gBAAAa,GAAA,OAAAnB,EAAAoB,MAAAC,KAAAC,YAAA,ICgBIC,EAdE,SAAAC,GAAoB,UAAAC,OAAaD,ICyDnCE,EAvDH,WAAM,IAAAC,EACgBC,mBAAS,IADzBC,EAAA5B,OAAA6B,EAAA,EAAA7B,CAAA0B,EAAA,GACTI,EADSF,EAAA,GACCG,EADDH,EAAA,GAAAI,EAEgBL,mBAAS,IAFzBM,EAAAjC,OAAA6B,EAAA,EAAA7B,CAAAgC,EAAA,GAETE,EAFSD,EAAA,GAECE,EAFDF,EAAA,GAAAG,EAGwBT,mBAAS,IAHjCU,EAAArC,OAAA6B,EAAA,EAAA7B,CAAAoC,EAAA,GAGKE,GAHLD,EAAA,GAAAA,EAAA,IAAAE,EAIQZ,mBAAS,MAJjBa,EAAAxC,OAAA6B,EAAA,EAAA7B,CAAAuC,EAAA,GAIHE,GAJGD,EAAA,GAAAA,EAAA,IAMhBE,oBAAU,WACR,IAAMC,EAAiBC,OAAOC,aAAaC,QAAQ,qBACnD,GAAIH,EAAgB,CAClB,IAAMI,EAAOC,KAAKC,MAAMN,GACxBF,EAAQM,GACRG,EAAsBH,EAAKI,SAE5B,IAEH,IAAMC,EAAW,eAAArD,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAOgD,GAAP,IAAAC,EAAA,OAAApD,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAClB0C,EAAME,iBADY9C,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGG6C,EAAa1D,MAAM,CACpCgC,WAAUI,aAJI,OAGVa,EAHUtC,EAAAK,KAMhB8B,OAAOC,aAAaY,QAClB,oBAAqBT,KAAKU,UAAUX,IAEtCG,EAAsBH,EAAKI,OAC3BV,EAAQM,GACRhB,EAAY,IACZI,EAAY,IAZI1B,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAkD,GAAAlD,EAAA,SAchB6B,EAAgB,qBAChBsB,WAAW,WACTtB,EAAgB,OACf,KAjBa,yBAAA7B,EAAAQ,SAAAZ,EAAA,kBAAH,gBAAAa,GAAA,OAAAnB,EAAAoB,MAAAC,KAAAC,YAAA,GAsBnB,OACEwC,EAAA1D,EAAA2D,cAAA,WACED,EAAA1D,EAAA2D,cAAA,mBACAD,EAAA1D,EAAA2D,cAAA,QAAMC,SAAUX,GACdS,EAAA1D,EAAA2D,cAAA,sBAEED,EAAA1D,EAAA2D,cAAA,SAAOE,KAAK,OAAOC,MAAOnC,EAAUoC,KAAK,WAAWC,SAAU,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,OAAH,OAAgBtC,EAAYsC,EAAOJ,WAEnGJ,EAAA1D,EAAA2D,cAAA,sBAEID,EAAA1D,EAAA2D,cAAA,SAAOE,KAAK,WAAWC,MAAO/B,EAAUgC,KAAK,WAAWC,SAAU,SAAAG,GAAA,IAAGD,EAAHC,EAAGD,OAAH,OAAgBlC,EAAYkC,EAAOJ,WAEzGJ,EAAA1D,EAAA2D,cAAA,UAAQE,KAAK,UAAb,YCnDNO,IAASC,OAAOX,EAAA1D,EAAA2D,cAACW,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.a3521156.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {  token = `bearer ${newToken}`}\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {    \n    headers: { Authorization: token },  \n  }\n  const response = await axios.post(baseUrl, newObject, config)  \n  return response.data\n}\n\nexport default { getAll, create, setToken }\n\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport loginService from \"./services/login.js\";\nimport blogsService from \"./services/blogs.js\";\n\n\n\nconst App = () => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrorMessage] = useState('')\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {    \n    const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser')    \n    if (loggedUserJSON) {      \n      const user = JSON.parse(loggedUserJSON)      \n      setUser(user)      \n      blogsService.setToken(user.token)    \n    }  \n  }, [])\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n      window.localStorage.setItem(        \n        'loggedNoteappUser', JSON.stringify(user)      \n        ) \n      blogsService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n    } catch (exception) {\n      setErrorMessage('Wrong credentials')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n\nreturn (\n  <div>\n    <h2>Login</h2>\n    <form onSubmit={handleLogin}>\n      <div>\n        username\n        <input type=\"text\" value={username} name=\"Username\" onChange={({ target }) => setUsername(target.value)} />\n      </div>\n      <div>\n        password\n          <input type=\"password\" value={password} name=\"Password\" onChange={({ target }) => setPassword(target.value)} />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>\n  </div>\n)\n}\n\nexport default App;\n","\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}